<%= form_for [refinery, :keepers_admin, @keeper] do |f| -%>

  <!-- START RENDER FORM ERRORS -->
  <%= render '/refinery/admin/error_messages',
              :object => @keeper,
              :include_object_name => true %>
  <!-- END RENDER FORM ERRORS -->

  <!-- START KEEPER ACCOUNT INFO -->
  <fieldset><legend>Account info</legend>
    <div class='field'>
      <%= f.label :email -%>
      <%= f.text_field :email  -%>
    </div>
    
    <div class='field'>
      <%= f.label :password -%>
      <%= f.password_field :password  -%>
    </div>

    <div class='field'>
      <%= f.label :password_confirmation -%>
      <%= f.password_field :password_confirmation  -%>
    </div>
  </fieldset>
  <!-- END KEEPER ACCOUNT INFO -->

  <!-- KEEPER PERSONAL INFO -->
  <fieldset><legend>Personal info</legend>
    <div class='field'>
      <%= f.label :firstname -%>
      <%= f.text_field :firstname -%>
    </div>
    
    <div class='field'>
      <%= f.label :lastname -%>
      <%= f.text_field :lastname  -%>
    </div>

    <div class='field'>
      <%= f.label :phone -%>
      <%= f.text_field :phone  -%>
    </div>  
    
    <div class='field field_group inline'>
      <%= f.label :street -%>
      <%= f.text_field :street -%>

      <%= f.label :street_number, 'No.', class: :inline -%>
      <%= f.number_field :street_number  -%>
    </div>    
    
    <div class='field'>
      <%= f.label :postal_code, 'Postal code' -%>
      <%= f.text_field :postal_code  -%>
    </div>
    
    <div class='field'>
      <%= f.label :city -%>
      <%= f.text_field :city  -%>
    </div>        
  </fieldset>
  <!-- END KEEPER PERSONAL INFO -->
  
  <fieldset id="subject_form">
    <div id="add_politician">
      <%= link_to 'Add politician', '/refinery/keepers/politician_form/', class: :ajax %>
    </div>
    <div id="add_party">
      <%= link_to 'Add party', '/refinery/keepers/party_form/', class: :ajax %>
    </div>      
  </fieldset>

  <!-- START RENDER FORM ACTIONS -->
  <%= render '/refinery/admin/form_actions', :f => f,
        :continue_editing => false,
        :delete_title => t('delete', :scope => 'refinery.keepers.admin.keepers.keeper'),
        :delete_confirmation => t('message', :scope => 'refinery.admin.delete', :title => @keeper.firstname) %>
  <!-- END RENDER FORM ACTIONS -->
<% end -%>
<script>
$(function() {
  $('a.ajax').live('click', function() {
    $.getScript(this.href);
    return false;
  })
})
</script>